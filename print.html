<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible bing no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>figo mdbook</title>
                <meta name="robots" content="noindex" />
                

        <!-- Custom HTML head -->
        

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

                <link rel="icon" href="favicon.svg">
                        <link rel="shortcut icon" href="favicon.png">
                <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/bg.css">
                <link rel="stylesheet" href="css/print.css" media="print">
        
        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
                <link rel="stylesheet" href="fonts/fonts.css">
        
        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        
            </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item "><a href="bookmarks.html"><strong aria-hidden="true">1.</strong> 书签</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="bookmarks/news.html"><strong aria-hidden="true">1.1.</strong> news</a></li><li class="chapter-item "><a href="bookmarks/work.html"><strong aria-hidden="true">1.2.</strong> work</a></li><li class="chapter-item "><a href="bookmarks/book.html"><strong aria-hidden="true">1.3.</strong> book</a></li><li class="chapter-item "><a href="bookmarks/java.html"><strong aria-hidden="true">1.4.</strong> java</a></li></ol></li><li class="chapter-item "><a href="Kotlin/Kotlin.html"><strong aria-hidden="true">2.</strong> Kotlin</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="Kotlin/JavaToKotlin.html"><strong aria-hidden="true">2.1.</strong> JavaToKotlin</a></li></ol></li><li class="chapter-item "><a href="2022/2022.html"><strong aria-hidden="true">3.</strong> 2022</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="2022/2022.08.11.html"><strong aria-hidden="true">3.1.</strong> 2022.08</a></li></ol></li><li class="chapter-item "><a href="fmt.html"><strong aria-hidden="true">4.</strong> rust fmt</a></li><li class="chapter-item "><a href="2021.10/2021.10.html"><strong aria-hidden="true">5.</strong> 2021.10</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="2021.10/2021.10.12.html"><strong aria-hidden="true">5.1.</strong> 2021.10.12</a></li><li class="chapter-item "><a href="2021.10/2021.10.13.html"><strong aria-hidden="true">5.2.</strong> 2021.10.13</a></li><li class="chapter-item "><a href="2021.10/2021.10.17.html"><strong aria-hidden="true">5.3.</strong> 2021.103w</a></li><li class="chapter-item "><a href="2021.10/2021.10.19.html"><strong aria-hidden="true">5.4.</strong> 2021.10.19</a></li><li class="chapter-item "><a href="2021.10/2021.10.22.html"><strong aria-hidden="true">5.5.</strong> 2021.10.22</a></li><li class="chapter-item "><a href="2021.10/2021.10.24.html"><strong aria-hidden="true">5.6.</strong> 2021.10.4w</a></li><li class="chapter-item "><a href="2021.10/2021.10.31.html"><strong aria-hidden="true">5.7.</strong> 2021.10.5w</a></li></ol></li><li class="chapter-item "><a href="2021.11/2021.11.html"><strong aria-hidden="true">6.</strong> 2021.11</a></li><li class="chapter-item "><a href="2021.12/2021.12.html"><strong aria-hidden="true">7.</strong> 2021.12</a></li></ol>            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                                                <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                                            </div>

                    <h1 class="menu-title">figo mdbook</h1>

                    <div class="right-buttons">
                                                <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                                                                        
                    </div>
                </div>

                                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                
                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="书签目录"><a class="header" href="#书签目录">书签目录</a></h1>
<ul>
<li><a href="bookmarks/work.html">work</a></li>
<li><a href="bookmarks/news.html">news</a></li>
<li><a href="bookmarks/book.html">book</a></li>
<li><a href="bookmarks/java.html">java</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="news"><a class="header" href="#news">news</a></h1>
<ul>
<li><a href="https://www.ruanyifeng.com/blog">ruanyifeng</a></li>
<li><a href="http://itindex.net/">itindex</a></li>
<li><a href="https://www.infoq.cn/">infoq</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="work"><a class="header" href="#work">work</a></h1>
<ul>
<li><a href="https://oa.alliance-rd.cn/seeyon/main.do?method=changeLocale">oa</a></li>
<li><a href="http://attendance.alliance-rd.com.cn:9020/#/home/index">attendance</a></li>
<li><a href="http://b1plus.rlechina.cn:3399/b1plus/login.aspx">b1plus</a></li>
</ul>
<hr />
<ul>
<li><a href="http://nacos-web.ced242a1c52a74a6d8ad973d7a195bee5.cn-shanghai.alicontainer.com/nacos/#/login">nacos</a></li>
<li><a href="https://cs.console.aliyun.com/?spm=5176.12818093.ResourceDashboard/ali/widget-home-resources-list.dId.4cae16d0JVWVbu#/k8s/cluster/ced242a1c52a74a6d8ad973d7a195bee5/v2/info/overview?region=cn-shanghai">aliyun</a></li>
<li><a href="http://139.224.192.1:8080">jenKins</a></li>
<li><a href="https://app.mockplus.cn/team/erwegjymif">mockplus</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="book"><a class="header" href="#book">book</a></h1>
<ul>
<li><a href="https://www.bookstack.cn">bookstack</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="java"><a class="header" href="#java">java</a></h1>
<ul>
<li><a href="http://www.passjava.cn/">passjava</a></li>
</ul>
<hr />
<h1 id="test"><a class="header" href="#test">test</a></h1>
<ul>
<li>模拟后台接口<a href="https://www.mock-server.com/">mock-server</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="加油-kotlin"><a class="header" href="#加油-kotlin">加油 Kotlin</a></h1>
<h2 id="kotlin-list"><a class="header" href="#kotlin-list">Kotlin list</a></h2>
<ul>
<li><a href="Kotlin/JavaToKotlin.html">JavaToKotlin</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><p><img src="http://upload-images.jianshu.io/upload_images/1110736-25da08f052608195.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="" /></p>
<h1 id="from-java-to-kotlin"><a class="header" href="#from-java-to-kotlin">From Java To Kotlin</a></h1>
<p><a href="https://mindorks.com/open-source-projects"><img src="https://img.shields.io/badge/mindorks-opensource-blue.svg" alt="Mindorks" /></a>
<a href="https://mindorks.com/join-community"><img src="https://img.shields.io/badge/join-community-blue.svg" alt="Mindorks Community" /></a></p>
<h2 id="打印日志"><a class="header" href="#打印日志">打印日志</a></h2>
<ul>
<li>Java</li>
</ul>
<pre><code class="language-java">System.out.print(&quot;Amit Shekhar&quot;);
System.out.println(&quot;Amit Shekhar&quot;);
</code></pre>
<ul>
<li>Kotlin</li>
</ul>
<pre><code class="language-kotlin">print(&quot;Amit Shekhar&quot;)
println(&quot;Amit Shekhar&quot;)
</code></pre>
<hr />
<h2 id="常量与变量"><a class="header" href="#常量与变量">常量与变量</a></h2>
<ul>
<li>Java</li>
</ul>
<pre><code class="language-java">String name = &quot;Amit Shekhar&quot;;
final String name = &quot;Amit Shekhar&quot;;
</code></pre>
<ul>
<li>Kotlin</li>
</ul>
<pre><code class="language-kotlin">var name = &quot;Amit Shekhar&quot;
val name = &quot;Amit Shekhar&quot;
</code></pre>
<hr />
<h2 id="null声明"><a class="header" href="#null声明">null声明</a></h2>
<ul>
<li>Java</li>
</ul>
<pre><code class="language-java">String otherName;
otherName = null;
</code></pre>
<ul>
<li>Kotlin</li>
</ul>
<pre><code class="language-kotlin">var otherName : String?
otherName = null
</code></pre>
<hr />
<h2 id="空判断"><a class="header" href="#空判断">空判断</a></h2>
<ul>
<li>Java</li>
</ul>
<pre><code class="language-java">if (text != null) {
    int length = text.length();
}
</code></pre>
<ul>
<li>Kotlin</li>
</ul>
<pre><code class="language-kotlin">text?.let {
    val length = text.length
}
// or simply
val length = text?.length
</code></pre>
<hr />
<h2 id="字符串拼接"><a class="header" href="#字符串拼接">字符串拼接</a></h2>
<ul>
<li>Java</li>
</ul>
<pre><code class="language-java">String firstName = &quot;Amit&quot;;
String lastName = &quot;Shekhar&quot;;
String message = &quot;My name is: &quot; + firstName + &quot; &quot; + lastName;
</code></pre>
<ul>
<li>Kotlin</li>
</ul>
<pre><code class="language-kotlin">val firstName = &quot;Amit&quot;
val lastName = &quot;Shekhar&quot;
val message = &quot;My name is: $firstName $lastName&quot;
</code></pre>
<hr />
<h2 id="换行"><a class="header" href="#换行">换行</a></h2>
<ul>
<li>Java</li>
</ul>
<pre><code class="language-java">String text = &quot;First Line\n&quot; +
              &quot;Second Line\n&quot; +
              &quot;Third Line&quot;;
</code></pre>
<ul>
<li>Kotlin</li>
</ul>
<pre><code class="language-kotlin">val text = &quot;&quot;&quot;
        |First Line
        |Second Line
        |Third Line
        &quot;&quot;&quot;.trimMargin()
</code></pre>
<hr />
<h2 id="三元表达式"><a class="header" href="#三元表达式">三元表达式</a></h2>
<ul>
<li>Java</li>
</ul>
<pre><code class="language-java">String text = x &gt; 5 ? &quot;x &gt; 5&quot; : &quot;x &lt;= 5&quot;;
</code></pre>
<ul>
<li>Kotlin</li>
</ul>
<pre><code class="language-kotlin">val text = if (x &gt; 5)
              &quot;x &gt; 5&quot;
           else &quot;x &lt;= 5&quot;
</code></pre>
<hr />
<h2 id="操作符"><a class="header" href="#操作符">操作符</a></h2>
<ul>
<li>java</li>
</ul>
<pre><code class="language-java">final int andResult  = a &amp; b;
final int orResult   = a | b;
final int xorResult  = a ^ b;
final int rightShift = a &gt;&gt; 2;
final int leftShift  = a &lt;&lt; 2;
final int unsignedRightShift = a &gt;&gt;&gt; 2;
</code></pre>
<ul>
<li>Kotlin</li>
</ul>
<pre><code class="language-kotlin">val andResult  = a and b
val orResult   = a or b
val xorResult  = a xor b
val rightShift = a shr 2
val leftShift  = a shl 2
val unsignedRightShift = a ushr 2
</code></pre>
<hr />
<h2 id="类型判断和转换-声明式"><a class="header" href="#类型判断和转换-声明式">类型判断和转换 (声明式)</a></h2>
<ul>
<li>Java</li>
</ul>
<pre><code class="language-java">if (object instanceof Car) {
}
Car car = (Car) object;
</code></pre>
<ul>
<li>Kotlin</li>
</ul>
<pre><code class="language-kotlin">if (object is Car) {
}
var car = object as Car
</code></pre>
<hr />
<h2 id="类型判断和转换-隐式"><a class="header" href="#类型判断和转换-隐式">类型判断和转换 (隐式)</a></h2>
<ul>
<li>Java</li>
</ul>
<pre><code class="language-java">if (object instanceof Car) {
   Car car = (Car) object;
}
</code></pre>
<ul>
<li>Kotlin</li>
</ul>
<pre><code class="language-kotlin">if (object is Car) {
   var car = object // 聪明的转换
}
</code></pre>
<hr />
<h2 id="多重条件"><a class="header" href="#多重条件">多重条件</a></h2>
<ul>
<li>Java</li>
</ul>
<pre><code class="language-java">if (score &gt;= 0 &amp;&amp; score &lt;= 300) { }
</code></pre>
<ul>
<li>Kotlin</li>
</ul>
<pre><code class="language-kotlin">if (score in 0..300) { }
</code></pre>
<hr />
<h2 id="更灵活的case语句"><a class="header" href="#更灵活的case语句">更灵活的case语句</a></h2>
<ul>
<li>Java</li>
</ul>
<pre><code class="language-java">int score = // some score;
String grade;
switch (score) {
    case 10:
    case 9:
        grade = &quot;Excellent&quot;;
        break;
    case 8:
    case 7:
    case 6:
        grade = &quot;Good&quot;;
        break;
    case 5:
    case 4:
        grade = &quot;OK&quot;;
        break;
    case 3:
    case 2:
    case 1:
        grade = &quot;Fail&quot;;
        break;
    default:
        grade = &quot;Fail&quot;;
}
</code></pre>
<ul>
<li>Kotlin</li>
</ul>
<pre><code class="language-kotlin">var score = // some score
var grade = when (score) {
    9, 10 -&gt; &quot;Excellent&quot;
    in 6..8 -&gt; &quot;Good&quot;
    4, 5 -&gt; &quot;OK&quot;
    in 1..3 -&gt; &quot;Fail&quot;
    else -&gt; &quot;Fail&quot;
}
</code></pre>
<hr />
<h2 id="for循环"><a class="header" href="#for循环">for循环</a></h2>
<ul>
<li>Java</li>
</ul>
<pre><code class="language-java">for (int i = 1; i &lt;= 10 ; i++) { }
for (int i = 1; i &lt; 10 ; i++) { }
for (int i = 10; i &gt;= 0 ; i--) { }
for (int i = 1; i &lt;= 10 ; i+=2) { }
for (int i = 10; i &gt;= 0 ; i-=2) { }
for (String item : collection) { }
for (Map.Entry&lt;String, String&gt; entry: map.entrySet()) { }
</code></pre>
<ul>
<li>Kotlin</li>
</ul>
<pre><code class="language-kotlin">for (i in 1..10) { }
for (i in 1 until 10) { }
for (i in 10 downTo 0) { }
for (i in 1..10 step 2) { }
for (i in 10 downTo 0 step 2) { }
for (item in collection) { }
for ((key, value) in map) { }
</code></pre>
<hr />
<h2 id="更方便的集合操作"><a class="header" href="#更方便的集合操作">更方便的集合操作</a></h2>
<ul>
<li>Java</li>
</ul>
<pre><code class="language-java">final List&lt;Integer&gt; listOfNumber = Arrays.asList(1, 2, 3, 4);
final Map&lt;Integer, String&gt; keyValue = new HashMap&lt;Integer, String&gt;();
map.put(1, &quot;Amit&quot;);
map.put(2, &quot;Ali&quot;);
map.put(3, &quot;Mindorks&quot;);
// Java 9
final List&lt;Integer&gt; listOfNumber = List.of(1, 2, 3, 4);
final Map&lt;Integer, String&gt; keyValue = Map.of(1, &quot;Amit&quot;,
                                             2, &quot;Ali&quot;,
                                             3, &quot;Mindorks&quot;);
</code></pre>
<ul>
<li>Kotlin</li>
</ul>
<pre><code class="language-kotlin">val listOfNumber = listOf(1, 2, 3, 4)
val keyValue = mapOf(1 to &quot;Amit&quot;,
                     2 to &quot;Ali&quot;,
                     3 to &quot;Mindorks&quot;)
</code></pre>
<hr />
<h2 id="遍历"><a class="header" href="#遍历">遍历</a></h2>
<ul>
<li>Java</li>
</ul>
<pre><code class="language-java">// Java 7 and below
for (Car car : cars) {
  System.out.println(car.speed);
}
// Java 8+
cars.forEach(car -&gt; System.out.println(car.speed));
// Java 7 and below
for (Car car : cars) {
  if (car.speed &gt; 100) {
    System.out.println(car.speed);
  }
}
// Java 8+
cars.stream().filter(car -&gt; car.speed &gt; 100).forEach(car -&gt; System.out.println(car.speed));
</code></pre>
<ul>
<li>Kotlin</li>
</ul>
<pre><code class="language-kotlin">cars.forEach {
    println(it.speed)
}
cars.filter { it.speed &gt; 100 }
      .forEach { println(it.speed)}
</code></pre>
<hr />
<h2 id="方法定义"><a class="header" href="#方法定义">方法定义</a></h2>
<ul>
<li>Java</li>
</ul>
<pre><code class="language-java">void doSomething() {
   // logic here
}
void doSomething(int... numbers) {
   // logic here
}
</code></pre>
<ul>
<li>Kotlin</li>
</ul>
<pre><code class="language-kotlin">fun doSomething() {
   // logic here
}
fun doSomething(vararg numbers: Int) {
   // logic here
}
</code></pre>
<hr />
<h2 id="带返回值的方法"><a class="header" href="#带返回值的方法">带返回值的方法</a></h2>
<ul>
<li>Java</li>
</ul>
<pre><code class="language-java">int getScore() {
   // logic here
   return score;
}
</code></pre>
<ul>
<li>Kotlin</li>
</ul>
<pre><code class="language-kotlin">fun getScore(): Int {
   // logic here
   return score
}
// as a single-expression function
fun getScore(): Int = score
</code></pre>
<hr />
<h2 id="无结束符号"><a class="header" href="#无结束符号">无结束符号</a></h2>
<ul>
<li>Java</li>
</ul>
<pre><code class="language-java">int getScore(int value) {
    // logic here
    return 2 * value;
}
</code></pre>
<ul>
<li>Kotlin</li>
</ul>
<pre><code class="language-kotlin">fun getScore(value: Int): Int {
   // logic here
   return 2 * value
}
// as a single-expression function
fun getScore(value: Int): Int = 2 * value
</code></pre>
<hr />
<h2 id="constructor-构造器"><a class="header" href="#constructor-构造器">constructor 构造器</a></h2>
<ul>
<li>Java</li>
</ul>
<pre><code class="language-java">public class Utils {
    private Utils() { 
      // This utility class is not publicly instantiable 
    }
    
    public static int getScore(int value) {
        return 2 * value;
    }
    
}
</code></pre>
<ul>
<li>Kotlin</li>
</ul>
<pre><code class="language-kotlin">class Utils private constructor() {
    companion object {
    
        fun getScore(value: Int): Int {
            return 2 * value
        }
        
    }
}
// another way
object Utils {
    fun getScore(value: Int): Int {
        return 2 * value
    }
}
</code></pre>
<hr />
<h2 id="get-set-构造器"><a class="header" href="#get-set-构造器">Get Set 构造器</a></h2>
<ul>
<li>Java</li>
</ul>
<pre><code class="language-java">public class Developer {
    private String name;
    private int age;
    public Developer(String name, int age) {
        this.name = name;
        this.age = age;
    }
    public String getName() {
        return name;
    }
    public void setName(String name) {
        this.name = name;
    }
    public int getAge() {
        return age;
    }
    public void setAge(int age) {
        this.age = age;
    }
    @Override
    public boolean equals(Object o) {
        if (this == o) return true;
        if (o == null || getClass() != o.getClass()) return false;
        Developer developer = (Developer) o;
        if (age != developer.age) return false;
        return name != null ? name.equals(developer.name) : developer.name == null;
    }
    @Override
    public int hashCode() {
        int result = name != null ? name.hashCode() : 0;
        result = 31 * result + age;
        return result;
    }
    @Override
    public String toString() {
        return &quot;Developer{&quot; +
                &quot;name='&quot; + name + '\'' +
                &quot;, age=&quot; + age +
                '}';
    }
}
</code></pre>
<ul>
<li>Kotlin</li>
</ul>
<pre><code class="language-kotlin">data class Developer(val name: String, val age: Int)
</code></pre>
<hr />
<h2 id="原型扩展"><a class="header" href="#原型扩展">原型扩展</a></h2>
<ul>
<li>Java</li>
</ul>
<pre><code class="language-java">public class Utils {
    private Utils() { 
      // This utility class is not publicly instantiable 
    }
    
    public static int triple(int value) {
        return 3 * value;
    }
    
}
int result = Utils.triple(3);
</code></pre>
<ul>
<li>Kotlin</li>
</ul>
<pre><code class="language-kotlin">fun Int.triple(): Int {
  return this * 3
}
var result = 3.triple()
</code></pre>
<ul>
<li>Java</li>
</ul>
<pre><code class="language-java">public enum Direction {
        NORTH(1),
        SOUTH(2),
        WEST(3),
        EAST(4);
        int direction;
        Direction(int direction) {
            this.direction = direction;
        }
        public int getDirection() {
            return direction;
        }
    }
</code></pre>
<ul>
<li>Kotlin</li>
</ul>
<pre><code class="language-kotlin">enum class Direction(val direction: Int) {
    NORTH(1),
    SOUTH(2),
    WEST(3),
    EAST(4);
}
</code></pre>
<hr />
<h3 id="你需要知道一些比较重要的事"><a class="header" href="#你需要知道一些比较重要的事">你需要知道一些比较重要的事</a></h3>
<ul>
<li><a href="https://blog.mindorks.com/learn-kotlin-lateinit-vs-lazy">Learn Kotlin - lateinit vs lazy</a></li>
<li><a href="https://blog.mindorks.com/learn-kotlin-apply-vs-with">Learn Kotlin - apply vs with</a></li>
<li><a href="https://blog.mindorks.com/learn-kotlin-data-class">Learn Kotlin - Data Class</a></li>
<li><a href="https://blog.mindorks.com/learn-kotlin-destructuring-declarations">Learn Kotlin - Destructuring Declarations</a></li>
<li><a href="https://blog.mindorks.com/learn-kotlin-extension-functions">Learn Kotlin - Extension Functions</a></li>
<li><a href="https://blog.mindorks.com/learn-kotlin-sealed-classes">Learn Kotlin - Sealed Classes</a></li>
</ul>
<h3 id="如果你觉得这个项目对你有帮助-heart"><a class="header" href="#如果你觉得这个项目对你有帮助-heart">如果你觉得这个项目对你有帮助 :heart:</a></h3>
<ul>
<li>你可以通过点击 :star:表示支持  :v:</li>
</ul>
<p><a href="https://mindorks.com/open-source-projects">Check out Mindorks awesome open source projects here</a></p>
<h3 id="license"><a class="header" href="#license">License</a></h3>
<pre><code>   Copyright (C) 2017 MINDORKS NEXTGEN PRIVATE LIMITED
   Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
   you may not use this file except in compliance with the License.
   You may obtain a copy of the License at
       http://www.apache.org/licenses/LICENSE-2.0
   Unless required by applicable law or agreed to in writing, software
   distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   See the License for the specific language governing permissions and
   limitations under the License.
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="加油-2022月"><a class="header" href="#加油-2022月">加油 2022月</a></h1>
<h2 id="月报"><a class="header" href="#月报">月报</a></h2>
<ul>
<li><a href="2022/2022.08.11.html">8M</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="hello-august"><a class="header" href="#hello-august">hello August</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="formatting"><a class="header" href="#formatting">Formatting</a></h1>
<p>We've seen that formatting is specified via a <em>format string</em>:</p>
<ul>
<li><code>format!(&quot;{}&quot;, foo)</code> -&gt; <code>&quot;3735928559&quot;</code></li>
<li><code>format!(&quot;0x{:X}&quot;, foo)</code> -&gt;
<a href="https://en.wikipedia.org/wiki/Deadbeef#Magic_debug_values"><code>&quot;0xDEADBEEF&quot;</code></a></li>
<li><code>format!(&quot;0o{:o}&quot;, foo)</code> -&gt; <code>&quot;0o33653337357&quot;</code></li>
</ul>
<p>The same variable (<code>foo</code>) can be formatted differently depending on which
<em>argument type</em> is used: <code>X</code> vs <code>o</code> vs <em>unspecified</em>.</p>
<p>This formatting functionality is implemented via traits, and there is one trait
for each argument type. The most common formatting trait is <code>Display</code>, which
handles cases where the argument type is left unspecified: <code>{}</code> for instance.</p>
<pre><pre class="playground"><code class="language-rust editable">use std::fmt::{self, Formatter, Display};

struct City {
    name: &amp;'static str,
    // Latitude
    lat: f32,
    // Longitude
    lon: f32,
}

impl Display for City {
    // `f` is a buffer, and this method must write the formatted string into it
    fn fmt(&amp;self, f: &amp;mut Formatter) -&gt; fmt::Result {
        let lat_c = if self.lat &gt;= 0.0 { 'N' } else { 'S' };
        let lon_c = if self.lon &gt;= 0.0 { 'E' } else { 'W' };

        // `write!` is like `format!`, but it will write the formatted string
        // into a buffer (the first argument)
        write!(f, &quot;{}: {:.3}°{} {:.3}°{}&quot;,
               self.name, self.lat.abs(), lat_c, self.lon.abs(), lon_c)
    }
}

#[derive(Debug)]
struct Color {
    red: u8,
    green: u8,
    blue: u8,
}

fn main() {
    for city in [
        City { name: &quot;Dublin&quot;, lat: 53.347778, lon: -6.259722 },
        City { name: &quot;Oslo&quot;, lat: 59.95, lon: 10.75 },
        City { name: &quot;Vancouver&quot;, lat: 49.25, lon: -123.1 },
    ].iter() {
        println!(&quot;{}&quot;, *city);
    }
    for color in [
        Color { red: 128, green: 255, blue: 90 },
        Color { red: 0, green: 3, blue: 254 },
        Color { red: 0, green: 0, blue: 0 },
    ].iter() {
        // Switch this to use {} once you've added an implementation
        // for fmt::Display.
        println!(&quot;{:?}&quot;, *color);
    }
}
</code></pre></pre>
<p>You can view a <a href="https://doc.rust-lang.org/std/fmt/#formatting-traits">full list of formatting traits</a> and their argument
types in the <a href="https://doc.rust-lang.org/std/fmt/"><code>std::fmt</code></a> documentation.</p>
<h3 id="activity"><a class="header" href="#activity">Activity</a></h3>
<p>Add an implementation of the <code>fmt::Display</code> trait for the <code>Color</code> struct above
so that the output displays as:</p>
<pre><code class="language-text">RGB (128, 255, 90) 0x80FF5A
RGB (0, 3, 254) 0x0003FE
RGB (0, 0, 0) 0x000000
</code></pre>
<p>Two hints if you get stuck:</p>
<ul>
<li>You <a href="https://doc.rust-lang.org/std/fmt/#named-parameters">may need to list each color more than once</a>,</li>
<li>You can <a href="https://doc.rust-lang.org/std/fmt/#width">pad with zeros to a width of 2</a> with <code>:0&gt;2</code>.</li>
</ul>
<h3 id="see-also"><a class="header" href="#see-also">See also:</a></h3>
<p><a href="https://doc.rust-lang.org/std/fmt/"><code>std::fmt</code></a></p>
<h3 id="exercise"><a class="header" href="#exercise">exercise</a></h3>
<pre><pre class="playground"><code class="language-rust editable">use std::fmt::{self, Formatter, Display};

struct City {
    name: &amp;'static str,
    // Latitude
    lat: f32,
    // Longitude
    lon: f32,
}

impl Display for City {
    // `f` is a buffer, and this method must write the formatted string into it
    fn fmt(&amp;self, f: &amp;mut Formatter) -&gt; fmt::Result {
        let lat_c = if self.lat &gt;= 0.0 { 'N' } else { 'S' };
        let lon_c = if self.lon &gt;= 0.0 { 'E' } else { 'W' };

        // `write!` is like `format!`, but it will write the formatted string
        // into a buffer (the first argument)
        write!(f, &quot;{}: {:.3}°{} {:.3}°{}&quot;,
               self.name, self.lat.abs(), lat_c, self.lon.abs(), lon_c)
    }
}

#[derive(Debug)]
struct Color {
    red: u8,
    green: u8,
    blue: u8,
}

impl Display for Color {
    // `f` is a buffer, and this method must write the formatted string into it
    fn fmt(&amp;self, f: &amp;mut Formatter) -&gt; fmt::Result {
        write!(f, &quot;RGB ({red}, {green}, {blue}) 0x{red:0&lt;2X}{green:0&lt;2X}{blue:0&lt;2X}&quot;,
               red = self.red, green = self.green, blue = self.blue)
    }
}

fn main() {
    for city in [
        City { name: &quot;Dublin&quot;, lat: 53.347778, lon: -6.259722 },
        City { name: &quot;Oslo&quot;, lat: 59.95, lon: 10.75 },
        City { name: &quot;Vancouver&quot;, lat: 49.25, lon: -123.1 },
    ].iter() {
        println!(&quot;{}&quot;, *city);
    }
    for color in [
        Color { red: 128, green: 255, blue: 90 },
        Color { red: 0, green: 3, blue: 254 },
        Color { red: 0, green: 0, blue: 0 },
    ].iter() {
        // Switch this to use {} once you've added an implementation
        // for fmt::Display.
        println!(&quot;{}&quot;, *color);
    }
}

</code></pre></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="加油-10月"><a class="header" href="#加油-10月">加油 10月</a></h1>
<h2 id="周报"><a class="header" href="#周报">周报</a></h2>
<ul>
<li><a href="2021.10/2021.10.17.html">3w</a></li>
<li><a href="2021.10/2021.10.24.html">4w</a></li>
<li><a href="2021.10/2021.10.31.html">5w</a></li>
</ul>
<h2 id="todo"><a class="header" href="#todo">todo</a></h2>
<ul>
<li>图床</li>
<li>gitee page 使用</li>
<li>Redisson , Statemachine 深入理解并重构到当前项目</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="do"><a class="header" href="#do">do</a></h1>
<ul>
<li>github page mdbook  action success</li>
<li>moblie service 了解背景，看需求，和er图</li>
<li>换电回调</li>
<li>静态网站 相关技术了解 <a href="https://yushuaigee.gitee.io/">https://yushuaigee.gitee.io/</a></li>
</ul>
<h1 id="todo-1"><a class="header" href="#todo-1">todo</a></h1>
<ul>
<li>github pages hexo actions 静态网站 搭建</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="do-1"><a class="header" href="#do-1">do</a></h1>
<ul>
<li>Redisson 了解</li>
<li>statemachine 了解</li>
<li>moblie service 安全员 入手开发</li>
</ul>
<h1 id="todo-2"><a class="header" href="#todo-2">todo</a></h1>
<ul>
<li>Redisson , Statemachine 深入理解并重构到当前项目</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="do-2"><a class="header" href="#do-2">do</a></h1>
<ul>
<li>mdbook 项目创建 </li>
<li>figo.github.io  项目创建<a href="https://figo-sf.github.io/figo.github.io/">figo-sf.github.io</a></li>
<li>github Actions 初步了解
<ul>
<li><a href="2021.10/peaceiris/actions-gh-pages@v3">peaceiris/actions-gh-pages@v3</a>  发布项目到gh-pages 分支</li>
</ul>
</li>
<li>Hexo 初步使用</li>
<li>周末阳澄湖骑行，吃蟹</li>
</ul>
<h1 id="todo-3"><a class="header" href="#todo-3">todo</a></h1>
<ul>
<li>图床</li>
<li>gitee page 使用</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="do-3"><a class="header" href="#do-3">do</a></h1>
<ul>
<li>v0.0.1 发布actions 测试</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="do-4"><a class="header" href="#do-4">do</a></h1>
<ul>
<li>项目中添加 jacoco</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="do-5"><a class="header" href="#do-5">do</a></h1>
<ul>
<li>jacoco 集成</li>
<li>mock-server 的使用
<ul>
<li>网址<a href="https://www.mock-server.com/">mock-server</a></li>
<li>sample example </li>
</ul>
<pre><code class="language-java">      
    private static int mockServerPort = 8888;
    private static ClientAndServer mockServer;
      
    @BeforeAll
    public static void startServer() {
        mockServer = startClientAndServer(mockServerPort);
        mockAvpPlatformWithAllSuccess();
    }
  
    private static void mockAvpPlatformWithAllSuccess() {
        MockServerClient client = new MockServerClient(&quot;127.0.0.1&quot;, mockServerPort);
  
        client
                .when(
                        request()
                                .withMethod(&quot;POST&quot;)
                                .withPath(&quot;/dkc.*&quot;)
                )
                .respond(
                        response()
                                //除了200 别都会重发三次
                                .withStatusCode(HttpStatus.SC_OK)
                                .withHeader(&quot;statusCode&quot;, &quot;200&quot;)
                                .withHeader(&quot;subStatusCode&quot;, &quot;15000&quot;)
                                .withHeader(&quot;statusMessage&quot;, &quot;error&quot;)
                                .withBody(JSONObject.toJSONString(new Object()))
                );
    }
      
    @AfterAll
    public static void stopMockServer() {
        stopQuietly(mockServer);
    }
</code></pre>
<ul>
<li>more example <a href="https://www.mock-server.com/mock_server/creating_expectations.html">官方例子</a></li>
</ul>
</li>
</ul>
<hr />
<ul>
<li>httpClient 的使用 和重发机制
<ul>
<li>创建</li>
</ul>
<pre><code class="language-java">CloseableHttpClient httpClient = HttpClients.custom()
                .setServiceUnavailableRetryStrategy(new CustomServiceUnavailableRetryStrategy())
                .setRetryHandler(customHttpRequestRetryHandler())
                .build();

</code></pre>
<ul>
<li>异常重试</li>
</ul>
<pre><code class="language-java">    public static HttpRequestRetryHandler customHttpRequestRetryHandler() {
        return (exception, executionCount, context) -&gt; {
            log.info(&quot;自定义重发 异常内容:{},重传次数:{},{}&quot;, exception.toString(), executionCount, context.toString());
            if (executionCount &gt; MAX_RETRY_COUNT) {
                return false;
            }
            if (exception instanceof InterruptedIOException) {
                // Timeout
                return true;
            }
            if (exception instanceof ClientProtocolException) {
                // Timeout
                return true;
            }
            if (exception instanceof UnknownHostException) {
                // Unknown host
                return false;
            }
            if (exception instanceof ConnectTimeoutException) {
                // Connection refused
                return true;
            }
            if (exception instanceof SSLException) {
                // SSL handshake exception
                return true;
            }
            HttpClientContext clientContext = HttpClientContext.adapt(context);
            HttpRequest request = clientContext.getRequest();
            boolean idempotent = !(request instanceof HttpEntityEnclosingRequest);
            if (idempotent) {
                // Retry if the request is considered idempotent
                return true;
            }
            return false;
        };
    }
</code></pre>
<ul>
<li>错误状态及随机时间重传</li>
</ul>
<pre><code class="language-java">@Slf4j
class CustomServiceUnavailableRetryStrategy implements ServiceUnavailableRetryStrategy {

    /**
     * 最大重传次数 3次
     */
    private static final int MAX_RETRY_COUNT = 3;

    private Long interval;

    @SneakyThrows
    @Override
    public boolean retryRequest(HttpResponse httpResponse, int i, HttpContext httpContext) {
        log.info(&quot;statusCode----&gt;{}&quot;,httpResponse.getFirstHeader(&quot;statusCode&quot;));
        log.info(&quot;subStatusCode-&gt;{}&quot;,httpResponse.getFirstHeader(&quot;subStatusCode&quot;));
        log.info(&quot;statusMessage-&gt;{}&quot;,httpResponse.getFirstHeader(&quot;statusMessage&quot;));
        if(httpResponse.getStatusLine().getStatusCode()== HttpStatus.SC_OK){
            return false;
        }
        if (i &gt; MAX_RETRY_COUNT) {
            return false;
        } else {
            round(i);
            return true;
        }
    }

    @Override
    public long getRetryInterval() {
        return this.interval;
    }

    public Long round(int i) {
        Random random = new Random();
        switch (i) {

            case 1:
                this.interval = (long) random.nextInt(1000);
                break;
            case 2:
                this.interval = (long) random.nextInt(4000) + 1000;
                break;
            case 3:
                this.interval = (long) random.nextInt(25000) + 5000;
                break;
            default:
                throw new IllegalStateException(&quot;Unexpected value: &quot; + i);
        }
        log.info(&quot;间隔{}ms后重发&quot;,this.interval);
        return this.interval;
    }
}
</code></pre>
</li>
</ul>
<hr />
<ul>
<li>周六去医院看她爸爸未果 ，请吃饭</li>
<li>周末出去完了  粉黛月宫山
<ul>
<li>图床没有好</li>
</ul>
</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="do-6"><a class="header" href="#do-6">do</a></h1>
<ul>
<li>restTemplate 的使用</li>
<li>定时任务开始关闭</li>
<li>请假办居住证</li>
<li>去西湖边逛逛</li>
<li></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="do-7"><a class="header" href="#do-7">do</a></h1>
<ul>
<li>整个月一直在新项目上</li>
<li>模拟器开发完善</li>
<li>看电影《长津湖》</li>
<li>双岛骑行 和崇明骑行</li>
<li>陪朋友逛城隍庙</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="do-8"><a class="header" href="#do-8">do</a></h1>
<ul>
<li>完善mobility service 项目,去苏州现场体验很开心</li>
<li>调试换电项目,1月出差</li>
<li>去金山和青浦骑行,去太湖东山岛爬莫里峰</li>
<li>去复兴公园和思南书馆</li>
<li>单元测试有很大的进步</li>
<li>阿里直播调研</li>
<li>ivi模拟器改进</li>
</ul>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        
                        
                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                
                            </nav>

        </div>

        
        
        
                <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        
                <script src="ace.js" type="text/javascript" charset="utf-8"></script>
        <script src="editor.js" type="text/javascript" charset="utf-8"></script>
        <script src="mode-rust.js" type="text/javascript" charset="utf-8"></script>
        <script src="theme-dawn.js" type="text/javascript" charset="utf-8"></script>
        <script src="theme-tomorrow_night.js" type="text/javascript" charset="utf-8"></script>
        
                <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        
        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        
                        <script type="text/javascript">
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>
                
    </body>
</html>
